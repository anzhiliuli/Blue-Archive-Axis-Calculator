# 碧蓝档案轴计算器

一个用于规划和计算碧蓝档案学生技能释放时间轴的Web应用。

## 功能特性

### 核心功能
- 学生属性管理：添加、编辑、删除学生，设置回费速度、技能费用等属性
- 数据项管理：添加、编辑、删除技能释放数据项
- 关联规则管理：设置学生间的关联规则，影响费用计算和回费效果
- 时间轴计算：自动计算技能释放时间、费用扣除和剩余费用
- 数据导出/导入：支持导出为文件或生成识别码，支持从文件或识别码导入
- 费用曲线可视化：实时显示费用变化曲线，支持滚轮缩放和图表类型切换
- 游戏模式视图：优化界面布局，隐藏不必要的列，显示游戏中更关注的信息
- 持续回费功能：设置持续回费效果，影响学生的回费速度
- 数据筛选：支持按条件筛选数据项
- 分页功能：支持分页显示大量数据项
- 特殊行隐藏/显示：可隐藏或显示回费和减费等特殊行

### 2.1版本新增功能

#### 1. 导出界面优化
- **横向布局**：导出按钮改为横向排列，提升空间利用率
- **动态配置信息**：配置导出信息默认隐藏，点击"导出更多信息"按钮可展开/收起
- **清晰的视觉区分**：配置信息区域使用明显的视觉区分，方便用户理解和操作

#### 2. 学生站位显示改进
- **样式优化**：将初始技能学生的样式从蓝色改为红色，增强视觉辨识度
- **分开显示**：学生站位和初始技能分开显示，使用不同样式区分
  - 站位信息：显示在第一行
  - 初始技能：显示在第二行
- **取消编号**：导出信息取消显示1、2、3、4等编号，直接显示学生名字
- **合理布局**：站位和初始技能信息带有适当左边距，提升整体美观度

#### 3. 数据完整性验证
- **学生站位唯一性**：实现了站位学生的唯一性验证，每个站位只能选择不同的学生
- **初始技能唯一性**：实现了初始技能学生的唯一性验证，每个初始技能只能选择不同的学生
- **自动禁用**：当学生被选入某站位/技能后，其他选项中该学生会显示为"已选择"并被禁用

#### 4. 数据导出/导入增强
- **识别码功能**：新增生成识别码导出和从识别码导入功能
- **多种导出方式**：支持导出为文件或生成识别码，支持从文件或识别码导入

#### 5. 视频轴链接解析
- **自动解析**：支持B站视频链接的自动解析
- **智能提取**：当用户输入包含B站视频链接的文本时，自动提取并填充纯链接
- **格式支持**：支持解析格式如：`【标题】 https://www.bilibili.com/video/BV1xxx...`
- **忽略标题**：自动识别并提取链接部分，忽略标题文本

## 使用说明

1. **添加学生**：点击"添加"按钮添加学生，设置学生属性
2. **初始化数据表**：点击"初始化数据表"按钮，设置初始时间
3. **添加数据项**：点击"添加数据项"按钮添加技能释放记录
4. **配置关联规则**：点击"添加规则"按钮设置学生间的关联规则
5. **导出数据**：点击"导出数据文件"按钮，选择导出方式
6. **查看站位信息**：数据表上方显示学生站位和初始技能信息

## 技术栈

- HTML5 + CSS3 + JavaScript
- Bootstrap 5.3.3
- Font Awesome 6.5.1
- Chart.js 4.5.0
- http-server 14.1.1（开发服务器）

## 开发与运行

### 安装依赖
```bash
npm install
```

### 启动开发服务器
```bash
npm run dev
```

服务器将在 `http://localhost:8080` 启动，浏览器将自动打开应用。

### 构建项目
```bash
npm run build
```

## 版本更新记录

### v2.1.5
- 费用曲线滚轮缩放：费用曲线支持鼠标滚轮缩放，缩放到最小时显示所有数据
- 游戏模式视图：新增游戏模式视图，优化界面布局，隐藏不必要的列
- 右键菜单：将编辑和删除功能移植至右键菜单中
- 附加数据：新增为数据行增加附加数据，可填写长备注及图片支持GIF
- 显示完整数据：新增按钮，展现完整的数据，便利查看完整数据，减少翻页操作

### v2.1
- 导出界面优化：横向布局、动态配置信息
- 角色预设：极大便利添加常用角色，减少添加角色的操作
- 学生站位显示改进：样式优化、分开显示、取消编号
- 数据完整性验证：学生站位和初始技能唯一性检查
- 数据导出/导入增强：新增识别码功能，支持生成识别码导出和从识别码导入
- 视频轴链接解析：自动解析B站视频链接

### v2.0
- 初始版本发布
- 核心功能实现：学生管理、数据项管理、关联规则管理、时间轴计算
- 导出/导入功能：支持文件导出/导入

## 浏览器支持

- Chrome (推荐)
- Firefox
- Safari
- Edge

## 许可证

MIT License