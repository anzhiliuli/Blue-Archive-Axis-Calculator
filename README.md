# 碧蓝档案轴计算器

一款专业的碧蓝档案技能释放规划工具，用于管理游戏角色属性、精准计算技能费用与回费时间，帮助玩家高效规划游戏内角色技能释放节奏。

## 功能特点

### 🎯 核心功能
- **角色管理**：支持添加、编辑、删除角色，设置角色基础属性
- **技能费用计算**：精确计算每个技能释放所需的费用
- **回费速度计算**：实时计算角色的回费速度
- **费用效果规则**：支持多种费用效果规则，包括百分比增加/减少、固定数值增加/减少
- **持续回费功能**：支持目标角色的持续回费效果
- **特殊技能处理**：支持瞬、水白等特殊技能效果
- **数据导入导出**：支持数据的导入导出，方便备份和分享
- **使用手册**：内置详细的使用指南

### 🎨 界面设计
- **现代化UI**：采用现代化的设计风格，界面简洁美观
- **响应式布局**：适配不同屏幕尺寸
- **直观的操作**：操作简单，易于上手
- **横版使用手册**：内置详细的使用手册，支持横版浏览

### 📊 数据管理
- **数据项管理**：支持添加、编辑、删除数据项
- **规则管理**：支持添加、编辑、删除规则
- **分页功能**：支持数据的分页显示
- **筛选功能**：支持数据的筛选

## 快速开始

### 安装依赖
```bash
npm install
```

### 启动开发服务器
```bash
npm run dev
```

### 访问应用
打开浏览器访问：http://127.0.0.1:8000

## 项目结构

```
碧蓝档案轴计算器/
├── src/
│   ├── css/                 # 样式文件
│   │   ├── components/       # 组件样式
│   │   │   ├── common.css    # 通用组件样式
│   │   │   ├── manual.css    # 使用手册样式
│   │   ├── layouts/          # 布局样式
│   │   ├── themes/           # 主题样式
│   │   ├── utils/            # 工具样式
│   │   ├── main.css          # 主样式
│   │   └── rule-styles.css   # 规则样式
│   ├── js/                  # JavaScript文件
│   │   ├── components/       # 组件
│   │   ├── core/             # 核心逻辑
│   │   │   └── app.js         # 应用核心
│   │   ├── managers/          # 管理器
│   │   │   ├── calculator.js    # 计算管理器
│   │   │   ├── dataManager.js   # 数据管理器
│   │   │   ├── eventListeners.js # 事件监听器
│   │   │   ├── modalManager.js   # 模态框管理器
│   │   │   └── uiRenderer.js     # UI渲染器
│   │   └── index.js           # 入口文件
├── index.html               # 主页面
├── package.json             # 项目配置
└── README.md                # 项目说明
```

## 核心功能说明

### 1. 计算器核心 (calculator.js)
- **回费速度计算**：计算角色的回费速度
- **费用效果规则**：处理各种费用效果规则
- **持续回费功能**：处理目标角色的持续回费效果
- **减费规则处理**：处理技能减费规则
- **细粒度时间模拟**：使用0.001秒的时间步长模拟费用恢复

### 2. 数据管理 (dataManager.js)
- **角色管理**：管理角色数据
- **规则管理**：管理规则数据
- **数据项管理**：管理数据项
- **分页功能**：处理数据分页
- **数据导入导出**：处理数据的导入导出

### 3. UI渲染 (uiRenderer.js)
- **角色列表渲染**：渲染角色列表
- **规则列表渲染**：渲染规则列表
- **数据项列表渲染**：渲染数据项列表
- **分页控件渲染**：渲染分页控件
- **使用手册渲染**：渲染使用手册

### 4. 事件监听 (eventListeners.js)
- **角色事件**：处理角色相关事件
- **规则事件**：处理规则相关事件
- **数据项事件**：处理数据项相关事件
- **模态框事件**：处理模态框相关事件
- **导航事件**：处理导航相关事件

## 使用说明

### 1. 添加角色
1. 点击"添加角色"按钮
2. 填写角色信息，包括角色名称、回费速度等
3. 点击"保存"按钮

### 2. 添加规则
1. 点击"添加规则"按钮
2. 选择规则类型
3. 填写规则信息
4. 点击"保存"按钮

### 3. 添加数据项
1. 点击"添加数据项"按钮
2. 选择角色和技能
3. 填写数据项信息
4. 点击"保存"按钮

### 4. 查看使用手册
1. 点击"使用手册"按钮
2. 浏览使用手册内容
3. 使用左侧导航栏快速定位到需要的内容

## 技术栈

- **前端框架**：原生JavaScript
- **CSS框架**：自定义CSS
- **构建工具**：http-server
- **开发工具**：VS Code

## 开发指南

### 代码规范
- 采用ES6+语法
- 函数和变量命名采用驼峰式命名法
- 代码注释清晰，便于理解
- 模块化设计，便于维护和扩展

### 调试技巧
- 使用浏览器的开发者工具进行调试
- 利用console.log输出调试信息
- 使用断点调试

### 扩展建议
- 支持更多角色和技能
- 支持更多费用效果规则
- 支持更多特殊技能
- 优化性能，提高计算速度
- 添加更多图表和统计功能

## 许可证

MIT License

## 更新日志

### v2.0.0 (2025-12-24)
- 优化了费用效果叠加逻辑
- 改进了持续回费功能，现在持续回费会加到目标角色上，并受到费用效果百分比影响
- 优化了使用手册的界面设计
- 修复了一些已知问题

### v1.0.0 (2025-9-1)
- 初始版本
- 支持角色管理、规则管理、数据项管理
- 支持费用计算和回费速度计算
- 支持数据导入导出

## 联系方式

作者：暗の琉璃海瑟薇
B站空间：https://space.bilibili.com/92154003?spm_id_from=333.1007.0.0

## 致谢

感谢所有使用和支持本项目的玩家！

## 贡献

欢迎提交Issue和Pull Request，帮助改进项目！

---

**碧蓝档案轴计算器** - 专业的技能释放规划工具
